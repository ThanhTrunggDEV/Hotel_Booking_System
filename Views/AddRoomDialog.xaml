<Window x:Class="Hotel_Booking_System.Views.AddRoomDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Add Room"
        Height="850"
        Width="520"
        Background="#F5F7FB"
        WindowStartupLocation="CenterOwner">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Margin="28,24,28,12">
            <TextBlock Text="Create a new room"
                       FontSize="22"
                       FontWeight="Bold"
                       Foreground="#FF1A237E"/>
            <TextBlock Text="Upload a photo and fill in the room details to make it available for guests."
                       Foreground="#FF616161"
                       Margin="0,6,0,0"/>
        </StackPanel>

        <Border Grid.Row="1"
                Margin="28,0,28,28"
                Padding="24"
                Background="White"
                CornerRadius="20">
            <Border.Effect>
                <DropShadowEffect BlurRadius="16"
                                   Opacity="0.2"
                                   ShadowDepth="0"/>
            </Border.Effect>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Border Grid.Row="0"
                        Height="220"
                        CornerRadius="16"
                        Background="#FFECEFF5"
                        ClipToBounds="True">
                    <Grid>
                        <Image Source="{Binding RoomImage}" Stretch="UniformToFill"/>
                        <Border Background="#33000000"/>
                        <TextBlock Text="No photo selected"
                                   Foreground="White"
                                   FontSize="18"
                                   FontWeight="SemiBold"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding RoomImage}" Value="">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding RoomImage}" Value="{x:Null}">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>

                        <StackPanel Orientation="Vertical" Margin="20" VerticalAlignment="Bottom">
                            <TextBlock Text="Room preview" Foreground="#FFE0E0E0" FontSize="12"/>
                            <TextBlock Text="{Binding RoomType, FallbackValue='New room'}" Foreground="White" FontSize="20" FontWeight="Bold"/>
                            <TextBlock Text="{Binding RoomNumber, StringFormat='Room {0}', FallbackValue='Room number pending'}"
                                       Foreground="#FFE0E0E0"/>
                        </StackPanel>

                        <Button Content="Change photo"
                                Click="UploadImage_Click"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Top"
                                Margin="16"
                                Width="150"
                                Height="44"
                                Style="{StaticResource PrimaryButton}"/>
                    </Grid>
                </Border>

                <StackPanel Grid.Row="1" Margin="0,24,0,0">
                    <TextBlock Text="Basic details" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,12"/>

                    <Grid Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0" Margin="0,0,12,0">
                            <TextBlock Text="Room number" FontWeight="SemiBold" Margin="0,0,0,6"/>
                            <TextBox Text="{Binding RoomNumber}" Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Room type" FontWeight="SemiBold" Margin="0,0,0,6"/>
                            <TextBox Text="{Binding RoomType}" Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>
                    </Grid>

                    <Grid Margin="0,0,0,12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0" Margin="0,0,12,0">
                            <TextBlock Text="Capacity" FontWeight="SemiBold" Margin="0,0,0,6"/>
                            <TextBox Text="{Binding Capacity}" Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Price per night" FontWeight="SemiBold" Margin="0,0,0,6"/>
                            <TextBox Text="{Binding PricePerNight}" Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>
                    </Grid>

                    <StackPanel>
                        <TextBlock Text="Room status" FontWeight="SemiBold" Margin="0,0,0,6"/>
                        <ComboBox SelectedValuePath="Content"
                                  SelectedValue="{Binding Status, Mode=TwoWay}"
                                  Style="{StaticResource ModernComboBox}">
                            <ComboBoxItem Content="Available"/>
                            <ComboBoxItem Content="Maintenance"/>
                        </ComboBox>
                    </StackPanel>
                </StackPanel>

                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,24,0,0">
                    <Button x:Name="btnCancel"
                            Content="Cancel"
                            Width="130"
                            Margin="0,0,12,0"
                            Style="{StaticResource SecondaryButton}"
                            Click="Cancel_Click"/>
                    <Button x:Name="btnSave"
                            Content="Save room"
                            Width="150"
                            Style="{StaticResource PrimaryButton}"
                            Click="Save_Click"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
